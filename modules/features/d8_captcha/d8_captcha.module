<?php

/**
 * @file
 * Captcha settings.
 */

/**
 * Implements hook_library_info_alter().
 */
function d8_captcha_library_info_alter(&$libraries, $extension) {
  if ($extension !== 'recaptcha' || !isset($libraries['recaptcha.invisible'])) {
    return;
  }

  /** @var \Drupal\Core\Extension\ExtensionPathResolver $resolver */
  $resolver = \Drupal::service('extension.path.resolver');

  $path = $resolver->getPath('module', 'd8_captcha');

  $libraries['recaptcha.invisible']['js'] = [
    '/' . $path . '/js/recaptcha.invisible.js' => [],
  ];
}
